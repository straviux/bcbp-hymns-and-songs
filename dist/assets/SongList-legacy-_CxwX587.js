System.register(["./index-legacy-BVrP-4jz.js"],(function(a,e){"use strict";var t,l,o,n,s,r,i,d,u,c,f,v,m,h,g,b,y,p,_,w,C,k,x,z,L,S,j,B,I,V,A,E,F,N,P,Y,D,G;return{setters:[a=>{t=a.d,l=a.r,o=a.t,n=a.n,s=a.c,r=a.w,i=a.a,d=a.$,u=a.b,c=a.e,f=a.N,v=a.a3,m=a.P,h=a.h,g=a.a4,b=a.a5,y=a.x,p=a.B,_=a.D,w=a.F,C=a.I,k=a.E,x=a.G,z=a.j,L=a.a6,S=a.a7,j=a.a8,B=a.l,I=a.J,V=a.z,A=a.f,E=a.A,F=a.K,N=a.a9,P=a.aa,Y=a.p,D=a.m,G=a._}],execute:function(){var e=document.createElement("style");e.textContent="ion-item[data-v-b6f9f88a]{--color: #555}ion-note[data-v-b6f9f88a]{--color: #aaa}ion-fab[data-v-b6f9f88a]{margin-bottom:var(--ion-safe-area-bottom, 0)}.searchbar[data-v-b6f9f88a]{--background: #fff;--color: #777;--box-shadow: none;--border-radius: 30px}.header-transition[data-v-b6f9f88a]{transition:transform .3s ease-out}.search-bar-persist[data-v-b6f9f88a]{transform:translateY(-100%)}.song-artist[data-v-b6f9f88a]{font-size:10px;color:#aaa;text-transform:capitalize}.no-result[data-v-b6f9f88a]{display:flex;justify-content:center;align-items:center;height:50vh}.no-result .no-result-content[data-v-b6f9f88a]{background-color:#f6f6f6;width:80%;margin:auto;border-radius:5px;padding:1rem;color:#777}.ion-header-hidden[data-v-b6f9f88a]{transform:translateY(-100%)}.fade-animation[data-v-b6f9f88a]{animation:fade-in-b6f9f88a .4s ease forwards}@keyframes fade-in-b6f9f88a{0%{transform:translate(-100%)}to{transform:translate(0)}}\n",document.head.appendChild(e);const H=a=>(Y("data-v-b6f9f88a"),a=a(),D(),a),J={key:0,class:"song-artist"},K={key:1,class:"no-result"},R={key:0,class:"no-result-content"},T=H((()=>A("h1",null,"No Result Found",-1))),U=H((()=>A("span",null,"We couldn't find any title, lyrics or artist matching your search",-1)));a("default",G(t({__name:"SongList",setup(a){const e=l(!1),t=l(),Y=l(""),D=o((()=>{var a;return null===(a=t.value)||void 0===a?void 0:a.filter((a=>{var e;return a.title.toLowerCase().includes(Y.value.toLowerCase())||a.lyrics.toLowerCase().includes(Y.value.toLowerCase())||a.category.toLowerCase().includes(Y.value.toLowerCase())||(null===(e=a.artist)||void 0===e?void 0:e.toLowerCase().includes(Y.value.toLowerCase()))})).sort(((a,e)=>a.title.localeCompare(e.title)))})),G=async()=>{const a=await d.get("/api/songs");t.value=a.data.data};return n((async()=>{G()})),(a,t)=>(u(),s(i(B),null,{default:r((()=>[c(i(b),{class:"ion-no-border"},{default:r((()=>[c(i(f),{class:v(["header-transition",{"ion-header-hidden":e.value}])},{default:r((()=>[c(i(m),null,{default:r((()=>[h("BCBP Hymns & Songs")])),_:1})])),_:1},8,["class"]),c(i(f),{class:v(["header-transition",{"search-bar-persist":e.value}])},{default:r((()=>[c(i(g),{"show-clear-button":"focus",class:"searchbar",modelValue:Y.value,"onUpdate:modelValue":t[0]||(t[0]=a=>Y.value=a)},null,8,["modelValue"])])),_:1},8,["class"])])),_:1}),c(i(z),{fullscreen:!0,onIonScroll:t[1]||(t[1]=a=>{a.detail.scrollTop>30?e.value=!0:e.value=!1}),"scroll-events":!0},{default:r((()=>{var a;return[(null===(a=D.value)||void 0===a?void 0:a.length)>0?(u(),s(i(y),{key:0,lines:"full"},{default:r((()=>[(u(!0),p(w,null,_(D.value,((a,e)=>(u(),s(i(I),{key:"song_"+e},{default:r((()=>[c(i(V),{class:"fade-animation song-label"},{default:r((()=>[A("p",null,E(a.title),1),a.artist?(u(),p("span",J,E(a.artist),1)):x("",!0)])),_:2},1024),c(i(F),{slot:"end",size:"small",color:"dark",fill:"clear",href:"manage/update-song/"+a.id},{default:r((()=>[c(i(C),{icon:i(N),size:"small"},null,8,["icon"]),h(" edit ")])),_:2},1032,["href"]),c(i(F),{slot:"end",size:"small",fill:"clear",color:"warning",href:"manage/update-song-chord/"+a.id},{default:r((()=>[c(i(C),{icon:i(S),size:"small"},null,8,["icon"]),h(" chords ")])),_:2},1032,["href"]),c(i(F),{slot:"end",size:"small",fill:"clear",color:"danger",onClick:e=>(async(a,e)=>{if(confirm("Are you sure you want to delete this song?\n"+e)){console.log("Song deleted");try{await d.delete("/api/songs/"+a).then((()=>{G()}))}catch(t){return t}}})(a.id,a.title)},{default:r((()=>[c(i(C),{icon:i(P),size:"small"},null,8,["icon"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):(u(),p("div",K,[Y.value?(u(),p("div",R,[c(i(C),{icon:i(k),size:"large"},null,8,["icon"]),T,U])):x("",!0)]))]})),_:1}),c(i(j),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:r((()=>[c(i(L),{color:"primary",href:"/manage/new-song"},{default:r((()=>[c(i(C),{icon:i(S),style:{color:"white"}},null,8,["icon"])])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-b6f9f88a"]]))}}}));
