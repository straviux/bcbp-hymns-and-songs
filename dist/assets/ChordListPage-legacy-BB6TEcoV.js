System.register(["./HeaderToolBar.vue_vue_type_script_setup_true_lang-legacy-C8SGl1kr.js","./index-legacy-Nka0N6d8.js","./bcbplogo-legacy-DNPlaw3-.js"],(function(e,l){"use strict";var a,o,t,n,s,i,u,r,d,v,c,y,g,_,f,w,C,h,p,L,b,k,m,H,j,E,S;return{setters:[e=>{a=e._},e=>{o=e.d,t=e.r,n=e.n,s=e.q,i=e.C,u=e.s,r=e.t,d=e.c,v=e.w,c=e.a,y=e.b,g=e.e,_=e.x,f=e.y,w=e.z,C=e.F,h=e.I,p=e.A,L=e.B,b=e.j,k=e.l,m=e.f,H=e.D,j=e.E,E=e.G,S=e.H},null],execute:function(){const l={key:0,class:"song-artist"},x={key:1,class:"no-result"},F={key:0,class:"no-result-content"},T=m("h1",null,"No Result Found",-1),q=m("span",null,"We couldn't find any title, lyrics or artist matching your search",-1);e("default",o({__name:"ChordListPage",setup(e){const o=t(!1),z=t(H),B=t(s);n((async()=>{B.value=new s(i);const e=await B.value.checkConnectionsConsistency(),l=(await B.value.isConnection("db_songlist",!1)).result;var a,o;e.result&&l?z.value=await(null===(a=B.value)||void 0===a?void 0:a.retrieveConnection("db_songlist",!1)):z.value=await(null===(o=B.value)||void 0===o?void 0:o.createConnection("db_songlist",!1,"no-encryption",1,!1)),I()})),u((async()=>{var e;await(null===(e=B.value)||void 0===e?void 0:e.closeConnection("db_songlist",!1))}));const I=async()=>{var e,l,a;await(null===(e=z.value)||void 0===e?void 0:e.open());const o=await(null===(l=z.value)||void 0===l?void 0:l.query("SELECT * FROM songs"));await(null===(a=z.value)||void 0===a?void 0:a.close()),console.log("data loaded"),R.value=null==o?void 0:o.values.filter((e=>e.chords))},R=t(),A=t(""),D=e=>{A.value=e.searchQuery},G=r((()=>{var e;return null===(e=R.value)||void 0===e?void 0:e.filter((e=>{var l,a;return e.title.toLowerCase().includes(A.value.toLowerCase())||(null===(l=e.chords)||void 0===l?void 0:l.toLowerCase().includes(A.value.toLowerCase()))||e.category.toLowerCase().includes(A.value.toLowerCase())||(null===(a=e.artist)||void 0===a?void 0:a.toLowerCase().includes(A.value.toLowerCase()))})).sort(((e,l)=>e.title.localeCompare(l.title)))}));return(e,t)=>(y(),d(c(k),null,{default:v((()=>[g(a,{onEmitSearch:D,isHeaderHidden:o.value},null,8,["isHeaderHidden"]),g(c(b),{fullscreen:!0,onIonScroll:t[0]||(t[0]=e=>{e.detail.scrollTop>30?o.value=!0:o.value=!1}),"scroll-events":!0},{default:v((()=>{var e;return[(null===(e=G.value)||void 0===e?void 0:e.length)>0?(y(),d(c(_),{key:0},{default:v((()=>[(y(!0),f(C,null,w(G.value,((e,a)=>(y(),d(c(j),{key:"song_"+a,href:"/song/"+e.id+"/chords"},{default:v((()=>[g(c(E),{class:"fade-in-left-animation song-label"},{default:v((()=>[m("p",null,S(e.title),1),e.artist?(y(),f("span",l,S(e.artist),1)):L("",!0)])),_:2},1024)])),_:2},1032,["href"])))),128))])),_:1})):(y(),f("div",x,[A.value?(y(),f("div",F,[g(c(h),{icon:c(p),size:"large"},null,8,["icon"]),T,q])):L("",!0)]))]})),_:1})])),_:1}))}}))}}}));
