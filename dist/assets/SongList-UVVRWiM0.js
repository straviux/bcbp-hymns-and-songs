import{d as x,r as _,n as z,q as V,s as N,c as m,w as s,a as e,b as r,e as a,t as g,x as w,y as F,h as p,z as H,A as O,B as T,C as d,D,F as E,I as f,E as P,G as y,j,H as q,J as C,K as A,l as G,L as J,M as K,f as h,N as b,O as L,P as M,p as Q,m as R}from"./index-9ET2b71K.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S=c=>(Q("data-v-bf7f3bca"),c=c(),R(),c),W={key:0,class:"song-artist"},X={key:1,class:"no-result"},Y={key:0,class:"no-result-content"},Z=S(()=>h("h1",null,"No Result Found",-1)),$=S(()=>h("span",null,"We couldn't find any title, lyrics or artist matching your search",-1)),ee=x({__name:"SongList",setup(c){const u=_(!1),k=l=>{l.detail.scrollTop>30?u.value=!0:u.value=!1},I=_(),n=_(""),v=z(()=>{var l;return(l=I.value)==null?void 0:l.filter(t=>{var o;return t.title.toLowerCase().includes(n.value.toLowerCase())||t.lyrics.toLowerCase().includes(n.value.toLowerCase())||t.category.toLowerCase().includes(n.value.toLowerCase())||((o=t.artist)==null?void 0:o.toLowerCase().includes(n.value.toLowerCase()))}).sort((t,o)=>t.title.localeCompare(o.title))});return V(async()=>{const l=await N.get("/api/songs");console.log(l.data),I.value=l.data.data}),(l,t)=>(r(),m(e(G),null,{default:s(()=>[a(e(O),{class:"ion-no-border"},{default:s(()=>[a(e(g),{class:w(["header-transition",{"ion-header-hidden":u.value}])},{default:s(()=>[a(e(F),null,{default:s(()=>[p("BCBP Hymns & Songs")]),_:1})]),_:1},8,["class"]),a(e(g),{class:w(["header-transition",{"search-bar-persist":u.value}])},{default:s(()=>[a(e(H),{"show-clear-button":"focus",class:"searchbar",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o)},null,8,["modelValue"])]),_:1},8,["class"])]),_:1}),a(e(j),{fullscreen:!0,onIonScroll:t[1]||(t[1]=o=>k(o)),"scroll-events":!0},{default:s(()=>{var o;return[((o=v.value)==null?void 0:o.length)>0?(r(),m(e(T),{key:0,lines:"full"},{default:s(()=>[(r(!0),d(E,null,D(v.value,(i,B)=>(r(),m(e(J),{key:"song_"+B},{default:s(()=>[a(e(K),{class:"fade-animation song-label"},{default:s(()=>[h("p",null,b(i.title),1),i.artist?(r(),d("span",W,b(i.artist),1)):y("",!0)]),_:2},1024),a(e(L),{slot:"end",size:"small",color:"dark",fill:"outline",href:"manage/update-song/"+i.id},{default:s(()=>[a(e(f),{icon:e(M),size:"small"},null,8,["icon"]),p(" edit ")]),_:2},1032,["href"]),a(e(L),{slot:"end",size:"small",fill:"outline",color:"warning",href:"manage/update-song-chord/"+i.id},{default:s(()=>[a(e(f),{icon:e(C),size:"small"},null,8,["icon"]),p(" chords ")]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})):(r(),d("div",X,[n.value?(r(),d("div",Y,[a(e(f),{icon:e(P),size:"large"},null,8,["icon"]),Z,$])):y("",!0)]))]}),_:1}),a(e(A),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:s(()=>[a(e(q),{color:"primary",href:"/manage/new-song"},{default:s(()=>[a(e(f),{icon:e(C),style:{color:"white"}},null,8,["icon"])]),_:1})]),_:1})]),_:1}))}}),te=U(ee,[["__scopeId","data-v-bf7f3bca"]]);export{te as default};
