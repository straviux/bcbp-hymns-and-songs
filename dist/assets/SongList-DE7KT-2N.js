import{d as x,r as _,t as z,n as V,Y as N,c as p,w as s,a as e,b as r,e as a,L as g,a1 as w,N as F,h as m,a2 as H,a3 as T,x as D,B as d,D as E,F as O,I as f,E as P,G as b,j,a4 as A,a5 as y,a6 as G,l as J,J as K,z as Q,f as h,A as C,K as L,a7 as R,p as U,m as W,_ as Y}from"./index-BV0GmIU9.js";const S=c=>(U("data-v-bf7f3bca"),c=c(),W(),c),q={key:0,class:"song-artist"},M={key:1,class:"no-result"},X={key:0,class:"no-result-content"},Z=S(()=>h("h1",null,"No Result Found",-1)),$=S(()=>h("span",null,"We couldn't find any title, lyrics or artist matching your search",-1)),ee=x({__name:"SongList",setup(c){const u=_(!1),k=l=>{l.detail.scrollTop>30?u.value=!0:u.value=!1},I=_(),n=_(""),v=z(()=>{var l;return(l=I.value)==null?void 0:l.filter(t=>{var o;return t.title.toLowerCase().includes(n.value.toLowerCase())||t.lyrics.toLowerCase().includes(n.value.toLowerCase())||t.category.toLowerCase().includes(n.value.toLowerCase())||((o=t.artist)==null?void 0:o.toLowerCase().includes(n.value.toLowerCase()))}).sort((t,o)=>t.title.localeCompare(o.title))});return V(async()=>{const l=await N.get("/api/songs");console.log(l.data),I.value=l.data.data}),(l,t)=>(r(),p(e(J),null,{default:s(()=>[a(e(T),{class:"ion-no-border"},{default:s(()=>[a(e(g),{class:w(["header-transition",{"ion-header-hidden":u.value}])},{default:s(()=>[a(e(F),null,{default:s(()=>[m("BCBP Hymns & Songs")]),_:1})]),_:1},8,["class"]),a(e(g),{class:w(["header-transition",{"search-bar-persist":u.value}])},{default:s(()=>[a(e(H),{"show-clear-button":"focus",class:"searchbar",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o)},null,8,["modelValue"])]),_:1},8,["class"])]),_:1}),a(e(j),{fullscreen:!0,onIonScroll:t[1]||(t[1]=o=>k(o)),"scroll-events":!0},{default:s(()=>{var o;return[((o=v.value)==null?void 0:o.length)>0?(r(),p(e(D),{key:0,lines:"full"},{default:s(()=>[(r(!0),d(O,null,E(v.value,(i,B)=>(r(),p(e(K),{key:"song_"+B},{default:s(()=>[a(e(Q),{class:"fade-animation song-label"},{default:s(()=>[h("p",null,C(i.title),1),i.artist?(r(),d("span",q,C(i.artist),1)):b("",!0)]),_:2},1024),a(e(L),{slot:"end",size:"small",color:"dark",fill:"outline",href:"manage/update-song/"+i.id},{default:s(()=>[a(e(f),{icon:e(R),size:"small"},null,8,["icon"]),m(" edit ")]),_:2},1032,["href"]),a(e(L),{slot:"end",size:"small",fill:"outline",color:"warning",href:"manage/update-song-chord/"+i.id},{default:s(()=>[a(e(f),{icon:e(y),size:"small"},null,8,["icon"]),m(" chords ")]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})):(r(),d("div",M,[n.value?(r(),d("div",X,[a(e(f),{icon:e(P),size:"large"},null,8,["icon"]),Z,$])):b("",!0)]))]}),_:1}),a(e(G),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:s(()=>[a(e(A),{color:"primary",href:"/manage/new-song"},{default:s(()=>[a(e(f),{icon:e(y),style:{color:"white"}},null,8,["icon"])]),_:1})]),_:1})]),_:1}))}}),se=Y(ee,[["__scopeId","data-v-bf7f3bca"]]);export{se as default};
