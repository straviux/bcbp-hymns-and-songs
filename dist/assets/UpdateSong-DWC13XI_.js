import{d as h,r,Y as w,q as C,s as _,c as B,w as t,a as e,b as U,e as a,f as k,t as I,Q as m,R as b,O as x,h as n,I as S,T,L as O,U as E,V as u,j as L,l as N,W as q,X as Q}from"./index-CktGCO35.js";import{Q as z}from"./vue-quill.snow-Dvy-POWe.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={id:"container"},P=h({__name:"UpdateSong",setup(R){var g;const V=r([[{size:["small",!1,"large","huge"]}],[{align:[]}],["bold","italic","underline"],["blockquote","code-block"],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]),p=(g=w().params)==null?void 0:g.songid,d=r([]),f=r(),i=r(),c=r(),v=r();C(async()=>{const{data:s}=await _.get("/api/songs/"+p);console.log(s.data),d.value=s.data,i.value=d.value.title,v.value=d.value.category,c.value=d.value.artist;const l=document.getElementsByClassName("ql-editor");l[0].innerHTML=d.value.lyrics});const y=async()=>{try{const s=await q.create({message:"Saving data...",duration:3e3});s.present();const l=await _.patch("/api/songs/"+p,{title:i.value,lyrics:f.value,artist:c.value,category:v.value}),o=await Q.create({message:l.data.message,duration:1600,position:"middle"});await s.dismiss()&&o.present()}catch(s){console.error(s)}};return(s,l)=>(U(),B(e(N),null,{default:t(()=>[a(e(L),{fullscreen:!0},{default:t(()=>[k("div",M,[a(e(I),null,{default:t(()=>[a(e(m),{slot:"start"},{default:t(()=>[a(e(b),{label:"Title:",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=o=>i.value=o)},null,8,["modelValue"])]),_:1}),a(e(m),{slot:"end"},{default:t(()=>[a(e(x),{fill:"solid",class:"custom-btn",size:"large",onClick:y},{default:t(()=>[n("Save"),a(e(S),{slot:"end",icon:e(T)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),a(e(I),null,{default:t(()=>[a(e(m),{slot:"start"},{default:t(()=>[a(e(b),{label:"Artist:",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=o=>c.value=o)},null,8,["modelValue"])]),_:1}),a(e(m),{slot:"end"},{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(E),{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=o=>v.value=o),label:"Category",placeholder:""},{default:t(()=>[a(e(u),{value:"worship-and-praise"},{default:t(()=>[n("Worship/Praise")]),_:1}),a(e(u),{value:"advent"},{default:t(()=>[n("Advent")]),_:1}),a(e(u),{value:"liturgical"},{default:t(()=>[n("Liturgical")]),_:1}),a(e(u),{value:"marian"},{default:t(()=>[n("Marian")]),_:1}),a(e(u),{value:"gathering"},{default:t(()=>[n("Gathering")]),_:1}),a(e(u),{value:"bereavement"},{default:t(()=>[n("Bereavement")]),_:1}),a(e(u),{value:"lent-and-easter"},{default:t(()=>[n("Lent & Easter")]),_:1}),a(e(u),{value:"others"},{default:t(()=>[n("Others")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(e(z),{toolbar:V.value,style:{height:"100vh"},"content-type":"html",content:f.value,"onUpdate:content":l[3]||(l[3]=o=>f.value=o)},null,8,["toolbar","content"])])]),_:1})]),_:1}))}}),G=A(P,[["__scopeId","data-v-1ec24605"]]);export{G as default};
