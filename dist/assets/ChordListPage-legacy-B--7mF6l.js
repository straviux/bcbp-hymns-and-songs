System.register(["./HeaderToolBar.vue_vue_type_script_setup_true_lang-legacy-BHQXXdcI.js","./index-legacy-DKzNqGMS.js","./bcbplogo-legacy-DNPlaw3-.js"],(function(e,l){"use strict";var a,t,n,o,s,i,u,r,c,d,v,y,g,_,f,h,C,w,p,b,L,k,m,H,j,x,E,S,z;return{setters:[e=>{a=e._},e=>{t=e.d,n=e.r,o=e.n,s=e.q,i=e.C,u=e.s,r=e.t,c=e.c,d=e.w,v=e.a,y=e.b,g=e.e,_=e.x,f=e.y,h=e.z,C=e.h,w=e.f,p=e.A,b=e.B,L=e.D,k=e.F,m=e.I,H=e.E,j=e.G,x=e.j,E=e.l,S=e.H,z=e.J},null],execute:function(){const l={style:{"font-size":"12px",color:"#a8a8a8"}},F={key:0,class:"song-artist"},T={key:1,class:"no-result"},q={key:0,class:"no-result-content"},B=w("h1",null,"No Result Found",-1),I=w("span",null,"We couldn't find any title, lyrics or artist matching your search",-1);e("default",t({__name:"ChordListPage",setup(e){const t=n(!1),R=n(S),A=n(s);o((async()=>{A.value=new s(i);const e=await A.value.checkConnectionsConsistency(),l=(await A.value.isConnection("db_songlist",!1)).result;var a,t;e.result&&l?R.value=await(null===(a=A.value)||void 0===a?void 0:a.retrieveConnection("db_songlist",!1)):R.value=await(null===(t=A.value)||void 0===t?void 0:t.createConnection("db_songlist",!1,"no-encryption",1,!1)),D()})),u((async()=>{var e;await(null===(e=A.value)||void 0===e?void 0:e.closeConnection("db_songlist",!1))}));const D=async()=>{var e,l,a;await(null===(e=R.value)||void 0===e?void 0:e.open());const t=await(null===(l=R.value)||void 0===l?void 0:l.query("SELECT * FROM songs"));await(null===(a=R.value)||void 0===a?void 0:a.close()),G.value=null==t?void 0:t.values.filter((e=>e.chords))},G=n(),J=n(""),M=e=>{J.value=e.searchQuery},N=r((()=>{return e=J.value.toLocaleLowerCase(),null===(l=G.value)||void 0===l?void 0:l.filter((l=>{var a;return l.category.toLowerCase().includes(e)||l.title.toLowerCase().includes(e)||l.lyrics.toLowerCase().includes(e)||(null===(a=l.artist)||void 0===a?void 0:a.toLowerCase().includes(e))})).sort(((e,l)=>e.title.localeCompare(l.title)));var e,l}));return(e,n)=>(y(),c(v(E),null,{default:d((()=>[g(a,{onEmitSearch:M,isHeaderHidden:t.value},null,8,["isHeaderHidden"]),g(v(x),{fullscreen:!0,onIonScroll:n[0]||(n[0]=e=>{e.detail.scrollTop>30?t.value=!0:t.value=!1}),"scroll-events":!0},{default:d((()=>{var e;return[(null===(e=N.value)||void 0===e?void 0:e.length)>0?(y(),c(v(_),{key:0},{default:d((()=>[g(v(f),null,{default:d((()=>[g(v(h),{class:"list-header"},{default:d((()=>[C("Chords "),w("span",l,"["+p(N.value.length)+"]",1)])),_:1})])),_:1}),(y(!0),b(k,null,L(N.value,((e,l)=>(y(),c(v(z),{key:"song_"+l,href:"/song/"+e.id+"/chords"},{default:d((()=>[g(v(h),{class:"fade-in-left-animation song-label"},{default:d((()=>[w("p",null,p(e.title),1),e.artist?(y(),b("span",F,p(e.artist),1)):j("",!0)])),_:2},1024)])),_:2},1032,["href"])))),128))])),_:1})):(y(),b("div",T,[J.value?(y(),b("div",q,[g(v(m),{icon:v(H),size:"large"},null,8,["icon"]),B,I])):j("",!0)]))]})),_:1})])),_:1}))}}))}}}));
