System.register(["./index-legacy-FMUfXu-0.js","./HeaderToolBar.vue_vue_type_script_setup_true_lang-legacy-B-UnqatL.js","./bcbplogo-legacy-DNPlaw3-.js"],(function(e,l){"use strict";var a,n,o,t,s,i,u,r,c,v,d,y,g,f,_,w,C,h,p,L,b,k,m,H,j,S,E,x,z;return{setters:[e=>{a=e.d,n=e.r,o=e.n,t=e.q,s=e.C,i=e.s,u=e.t,r=e.c,c=e.w,v=e.a,d=e.b,y=e.e,g=e.x,f=e.y,_=e.z,w=e.F,C=e.I,h=e.A,p=e.B,L=e.j,b=e.l,k=e.f,m=e.D,H=e.E,j=e.G,S=e.H,E=e.J,x=e.h},e=>{z=e._},null],execute:function(){const l={key:0,class:"song-artist"},F={key:1,class:"no-result"},T={key:0,class:"no-result-content"},q=k("h1",null,"No Result Found",-1),B=k("span",null,"We couldn't find any title, lyrics or artist matching your search",-1);e("default",a({__name:"SongListPage",setup(e){const a=n(!1),I=n(m),R=n(t);o((async()=>{R.value=new t(s);const e=await R.value.checkConnectionsConsistency(),l=(await R.value.isConnection("db_songlist",!1)).result;var a,n;e.result&&l?I.value=await(null===(a=R.value)||void 0===a?void 0:a.retrieveConnection("db_songlist",!1)):I.value=await(null===(n=R.value)||void 0===n?void 0:n.createConnection("db_songlist",!1,"no-encryption",1,!1)),A()})),i((async()=>{var e;await(null===(e=R.value)||void 0===e?void 0:e.closeConnection("db_songlist",!1))}));const A=async()=>{var e,l,a;await(null===(e=I.value)||void 0===e?void 0:e.open());const n=await(null===(l=I.value)||void 0===l?void 0:l.query("SELECT * FROM songs"));await(null===(a=I.value)||void 0===a?void 0:a.close()),D.value=null==n?void 0:n.values},D=n(),G=n(""),J=e=>{G.value=e.searchQuery},M=u((()=>{var e;return null===(e=D.value)||void 0===e?void 0:e.filter((e=>{var l;return e.title.toLowerCase().includes(G.value.toLowerCase())||e.lyrics.toLowerCase().includes(G.value.toLowerCase())||e.category.toLowerCase().includes(G.value.toLowerCase())||(null===(l=e.artist)||void 0===l?void 0:l.toLowerCase().includes(G.value.toLowerCase()))})).sort(((e,l)=>e.title.localeCompare(l.title)))}));return(e,n)=>(d(),r(v(b),null,{default:c((()=>[y(z,{onEmitSearch:J,isHeaderHidden:a.value},null,8,["isHeaderHidden"]),y(v(L),{fullscreen:!0,onIonScroll:n[0]||(n[0]=e=>{e.detail.scrollTop>30?a.value=!0:a.value=!1}),"scroll-events":!0},{default:c((()=>{var e;return[(null===(e=M.value)||void 0===e?void 0:e.length)>0?(d(),r(v(g),{key:0},{default:c((()=>[(d(!0),f(w,null,_(M.value,((e,a)=>(d(),r(v(H),{key:"song_"+a,href:"/song/"+e.id+"/lyrics"},{default:c((()=>[y(v(j),{class:"fade-in-left-animation song-label"},{default:c((()=>[k("p",null,S(e.title),1),e.artist?(d(),f("span",l,S(e.artist),1)):p("",!0)])),_:2},1024),e.chords?(d(),r(v(E),{key:0,slot:"end",size:"small",fill:"outline",color:"warning",href:"/song/"+e.id+"/chords"},{default:c((()=>[x("chords ")])),_:2},1032,["href"])):p("",!0)])),_:2},1032,["href"])))),128))])),_:1})):(d(),f("div",F,[G.value?(d(),f("div",T,[y(v(C),{icon:v(h),size:"large"},null,8,["icon"]),q,B])):p("",!0)]))]})),_:1})])),_:1}))}}))}}}));
